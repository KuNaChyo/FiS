on_actions = {
	on_startup = {
		effect = {
			every_country = {
				if = {
					limit = {
						NOT = { has_variable = money }
					}
					set_variable = { money = 0 }
				}
				add_dynamic_modifier = {
					modifier = inflation_dynamic_modifier
				}
				if = {
					limit = {
						is_ai = no
					}
					set_variable = { show_economy_window = 1 }
				}
				if = {
					limit = {
						NOT = { has_idea = taxation_level_1 }
						NOT = { has_idea = taxation_level_2 }
						NOT = { has_idea = taxation_level_3 }
						NOT = { has_idea = taxation_level_4 }
						NOT = { has_idea = taxation_level_5 }
					}
					add_ideas = taxation_level_3
				}
				if = {
					limit = {
						NOT = { has_idea = social_spending_level_1 }
						NOT = { has_idea = social_spending_level_2 }
						NOT = { has_idea = social_spending_level_3 }
						NOT = { has_idea = social_spending_level_4 }
						NOT = { has_idea = social_spending_level_5 }
					}
					add_ideas = social_spending_level_3
				}
				if = {
					limit = {
						NOT = { has_idea = army_spending_level_1 }
						NOT = { has_idea = army_spending_level_2 }
						NOT = { has_idea = army_spending_level_3 }
						NOT = { has_idea = army_spending_level_4 }
						NOT = { has_idea = army_spending_level_5 }
					}
					add_ideas = army_spending_level_3
				}
				if = {
					limit = {
						NOT = { has_idea = research_spending_level_1 }
						NOT = { has_idea = research_spending_level_2 }
						NOT = { has_idea = research_spending_level_3 }
						NOT = { has_idea = research_spending_level_4 }
						NOT = { has_idea = research_spending_level_5 }
					}
					add_ideas = research_spending_level_3
				}
			}
		}
	}

	on_daily = {
		effect = {
			set_temp_variable = { gained_money = 0 }
			if = {
				limit = {
					calculate_money_balance = yes # calculates the money
					OR = {
						check_variable = { money < 2000000 }
						NOT = { check_variable = { total_balance_temp > 0 } }
					}
					OR = {
						check_variable = { money > -2000000 }
						NOT = { check_variable = { total_balance_temp < 0 } }
					}
				}
				set_temp_variable = { gained_money = total_balance_temp }
				add_to_variable = { money = gained_money }
			}
			if = {
				limit = {
					check_variable = { money > 2000000 }
				}
				set_variable = { money = 2000000 }
			}
			else_if = {
				limit = {
					check_variable = { money < -2000000 }
				}
				set_variable = { money = -2000000 }
			}

			if = {
				limit = {
					calculate_inflation_change = yes # calculates the inflation change
				}
				add_to_variable = { current_inflation = daily_inflation_change }
				set_variable = { inflation_effect_var = current_inflation }
				divide_variable = { inflation_effect_var = -2 }
			}
			if = {
				limit = {
					check_variable = { current_inflation < 0 }
				}
				set_variable = { current_inflation = 0 }
			}
			else_if = {
				limit = {
					check_variable = { current_inflation > 20000 }
				}
				set_variable = { current_inflation = 20000 }
			}

			if = {
				limit = {
					check_variable = { money < 0 }
				}
				set_temp_variable = { loans_amount = 0 }
				subtract_from_temp_variable = { loans_amount = money }
				divide_temp_variable = { loans_amount = 100 }
				add_to_temp_variable = { loans_amount = 0.5 }
				round_temp_variable = loans_amount
				take_loan_effect = yes
				if = {
					limit = {
						is_ai = no
					}
					set_variable = { show_automatic_loan_popup = 1 }
					set_variable = { automatic_loan_amount = loans_amount }
				}
			}
		}
	}

	on_weekly = {
		effect = {
			set_temp_variable = { unemployment_value = modifier@weekly_unemployment_change }
			if = {
				limit = {
					NOT = { check_variable = { unemployment_value = 0 } }
					OR = {
						AND = {
							check_variable = { unemployment_value > 0 }
							check_variable = { current_unemployment < 1 }
						}
						AND = {
							check_variable = { unemployment_value < 0 }
							check_variable = { current_unemployment > 0 }
						}
					}
				}
				add_unemployment_effect = yes
			}
		}
	}
}