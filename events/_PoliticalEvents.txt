#########################################################################
# Darkest Hour DH_political Events
#########################################################################

add_namespace = DH_political

# Class Conflicts Divide [Root.GetName]
country_event = {
	id = DH_political.1
	title = DH_political.1.t
	desc = DH_political.1.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		has_idea_with_trait = ML_drift
		NOT = { has_government = communist }
		communist > 0.2
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = communist_popular_movement
		}
	}
	
	option = {
		name = DH_political.1.a
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_stability = -0.05
	}
}

# Soldiers Desert to Communist Partisans
country_event = {
	id = DH_political.2
	title = DH_political.2.t
	desc = DH_political.2.d
	picture = GFX_report_event_desertion_poster
	
	trigger = {
		has_idea_with_trait = ML_drift
		NOT = { has_government = communist }
		communist > 0.3
		NOT = { has_idea = communist_partisans_recruiting }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = communist_popular_movement
		}
	}
	
	option = {
		name = DH_political.4.a
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_ideas = communist_partisans_recruiting
	}
}

country_event = {
	id = DH_political.3
	title = DH_political.3.t
	desc = DH_political.3.d
	picture = GFX_report_event_worker_protests

	is_triggered_only = yes

	option = {
		name = DH_political.3.a
		trigger = {
			#Special case CHI PRC
			OR = {
				NOT = { tag = CHI }
				AND = {
					NOT = { country_exists = PRC }
					tag = CHI
				}			
			}
		}
		set_politics = {
			ruling_party = communist
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# Class Conflicts Divide [Root.GetName]
country_event = {
	id = DH_political.4
	title = DH_political.4.t
	desc = DH_political.4.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		has_idea_with_trait = BL_drift
		NOT = { has_government = communist }
		communist > 0.2
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = communist_popular_movement
		}
	}
	
	option = {
		name = DH_political.4.a
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_stability = -0.05
	}
}

# Soldiers Desert to Communist Partisans
country_event = {
	id = DH_political.5
	title = DH_political.5.t
	desc = DH_political.5.d
	picture = GFX_report_event_desertion_poster
	
	trigger = {
		has_idea_with_trait = BL_drift
		NOT = { has_government = communist }
		communist > 0.3
		NOT = { has_idea = communist_partisans_recruiting }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = communist_popular_movement
		}
	}
	
	option = {
		name = DH_political.5.a
		add_popularity = {
			ideology = communist
			popularity = 0.05
		}
		add_ideas = communist_partisans_recruiting
	}
}

country_event = {
	id = DH_political.6
	title = DH_political.6.t
	desc = DH_political.6.d
	picture = GFX_report_event_worker_protests

	is_triggered_only = yes

	option = {
		name = DH_political.6.a
		trigger = {
			#Special case CHI PRC
			OR = {
				NOT = { tag = CHI }
				AND = {
					NOT = { country_exists = PRC }
					tag = CHI
				}			
			}
		}
		set_politics = {
			ruling_party = communist
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# Class Conflicts Divide [Root.GetName]
country_event = {
	id = DH_political.7
	title = DH_political.7.t
	desc = DH_political.7.d
	picture = GFX_report_event_gathering_protest
	
	trigger = {
		has_idea_with_trait = LWR_drift
		NOT = { has_government = socialist }
		socialist > 0.2
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = socialist_popular_movement
		}
	}
	
	option = {
		name = DH_political.7.a
		add_popularity = {
			ideology = socialist
			popularity = 0.05
		}
		add_stability = -0.05
	}
}

# Soldiers Desert to Communist Partisans
country_event = {
	id = DH_political.8
	title = DH_political.8.t
	desc = DH_political.8.d
	picture = GFX_report_event_desertion_poster
	
	trigger = {
		has_idea_with_trait = LWR_drift
		NOT = { has_government = socialist }
		socialist > 0.3
		NOT = { has_idea = socialist_partisans_recruiting }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = socialist_popular_movement
		}
	}
	
	option = {
		name = DH_political.8.a
		add_popularity = {
			ideology = socialist
			popularity = 0.05
		}
		add_ideas = socialist_partisans_recruiting
	}
}

country_event = {
	id = DH_political.9
	title = DH_political.9.t
	desc = DH_political.9.d
	picture = GFX_report_event_worker_protests

	is_triggered_only = yes

	option = {
		name = DH_political.9.a
		trigger = {
			#Special case CHI PRC
			OR = {
				NOT = { tag = CHI }
				AND = {
					NOT = { country_exists = PRC }
					tag = CHI
				}			
			}
		}
		set_politics = {
			ruling_party = socialist
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# Fascist Assault Divisions Form
country_event = {
	id = DH_political.10
	title = DH_political.10.t
	desc = DH_political.10.d
	picture = GFX_report_event_fascist_militia
	
	trigger = {
		has_idea_with_trait = FA_drift
		NOT = { has_government = fascist }
		fascist > 0.3
		NOT = { has_idea = fascist_assault_divisions }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = fascist_popular_movement
		}
	}
	
	option = {
		name = DH_political.10.a
		add_popularity = {
			ideology = fascist
			popularity = 0.05
		}
		add_ideas = fascist_assault_divisions
	}
}

# The Threat of Communism
country_event = {
	id = DH_political.11
	title = DH_political.11.t
	desc = DH_political.11.d
	picture = GFX_report_event_worker_protests
	
	trigger = {
		has_idea_with_trait = FA_drift
		NOT = { has_government = fascist }
		fascist > 0.25
		any_neighbor_country = {
			has_government = communist
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = fascist_popular_movement
		}
	}
	
	option = {
		name = DH_political.11.a
		add_popularity = {
			ideology = fascist
			popularity = 0.1
		}
	}
}

country_event = {
	id = DH_political.12
	title = DH_political.12.t
	desc = DH_political.12.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	option = {
		name = DH_political.12.a
		set_politics = {
			ruling_party = fascist
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# National Socialist Assault Divisions Form
country_event = {
	id = DH_political.13
	title = DH_political.13.t
	desc = DH_political.13.d
	picture = GFX_report_event_fascist_militia
	
	trigger = {
		has_idea_with_trait = NS_drift
		NOT = { has_government = fascist }
		fascist > 0.3
		NOT = { has_idea = fascist_assault_divisions }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = fascist_popular_movement
		}
	}
	
	option = {
		name = DH_political.13.a
		add_popularity = {
			ideology = fascist
			popularity = 0.05
		}
		add_ideas = fascist_assault_divisions
	}
}

# The Threat of Communism
country_event = {
	id = DH_political.14
	title = DH_political.14.t
	desc = DH_political.14.d
	picture = GFX_report_event_worker_protests
	
	trigger = {
		has_idea_with_trait = NS_drift
		NOT = { has_government = fascist }
		fascist > 0.25
		any_neighbor_country = {
			has_government = communist
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = fascist_popular_movement
		}
	}
	
	option = {
		name = DH_political.14.a
		add_popularity = {
			ideology = fascist
			popularity = 0.1
		}
	}
}

country_event = {
	id = DH_political.15
	title = DH_political.15.t
	desc = DH_political.15.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	option = {
		name = DH_political.15.a
		set_politics = {
			ruling_party = fascist
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# authoritarian Assault Divisions Form
country_event = {
	id = DH_political.16
	title = DH_political.16.t
	desc = DH_political.16.d
	picture = GFX_report_event_fascist_militia
	
	trigger = {
		has_idea_with_trait = PA_drift
		NOT = { has_government = authoritarian }
		authoritarian > 0.3
		NOT = { has_idea = authoritarian_assault_divisions }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = authoritarian_popular_movement
		}
	}
	
	option = {
		name = DH_political.16.a
		add_popularity = {
			ideology = authoritarian
			popularity = 0.05
		}
		add_ideas = authoritarian_assault_divisions
	}
}

# The Threat of Communism
country_event = {
	id = DH_political.17
	title = DH_political.17.t
	desc = DH_political.17.d
	picture = GFX_report_event_worker_protests
	
	trigger = {
		has_idea_with_trait = PA_drift
		NOT = { has_government = authoritarian }
		authoritarian > 0.25
		any_neighbor_country = {
			has_government = communist
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = authoritarian_popular_movement
		}
	}
	
	option = {
		name = DH_political.17.a
		add_popularity = {
			ideology = authoritarian
			popularity = 0.1
		}
	}
}

country_event = {
	id = DH_political.18
	title = DH_political.18.t
	desc = DH_political.18.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	option = {
		name = DH_political.18.a
		set_politics = {
			ruling_party = authoritarian
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# democratic Opposition Forming
country_event = {
	id = DH_political.19
	title = DH_political.19.t
	desc = DH_political.19.d
	picture = GFX_report_event_journalists_speech
	
	trigger = {
		has_idea_with_trait = C_drift
		NOT = { is_democratic = yes }
		NOT = { has_country_flag = democratic_opposition_formed }
		is_puppet = no
	}
	
	mean_time_to_happen = {
		days = 300
		modifier = {
			factor = 0.5
			has_country_flag = democracy_popular_movement
		}
	}
	
	option = {
		name = DH_political.19.a
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_stability = -0.05
		set_country_flag = democratic_opposition_formed
	}
}

# Public Call for Elections
country_event = {
	id = DH_political.20
	title = DH_political.20.t
	desc = DH_political.20.d
	picture = GFX_report_event_election_vote
	
	trigger = {
		has_idea_with_trait = C_drift
		NOT = { is_democratic = yes }
		has_country_flag = democratic_opposition_formed
		NOT = { has_idea = democratic_opposition_voicing_protests }
	}
	
	mean_time_to_happen = {
		days = 150
	}
	
	option = {
		name = DH_political.20.a
	}

	option = {
		name = DH_political.20.b
		add_political_power = -20
		add_ideas = democratic_opposition_voicing_protests
	}
}

country_event = {
	id = DH_political.21
	title = DH_political.21.t
	desc = DH_political.21.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	option = {
		name = DH_political.21.a
		if = {
			limit = { has_government = fascist }
			add_timed_idea = { idea = fascism_defeated days = 730 }
		}
		if = {
			limit = { has_government = communist }
			add_timed_idea = { idea = communism_defeated days = 730 }
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		add_stability = -0.05
	}
}

# Remove neutral foreign policy if fascist or commie
country_event = {
	id = DH_political.28
	title = DH_political.28.t
	desc = { 
		text = DH_political.28.d_fascism
	 	trigger = { has_government = fascist }
	}
	desc = { 
		text = DH_political.28.d_communism
	 	trigger = { has_government = communist }
	}
	picture = GFX_report_event_journalists_speech

	trigger = {
		OR = {
			has_government = fascist
			has_government = communist
		}
		has_idea = neutrality_idea
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = DH_political.28.a
		remove_ideas = neutrality_idea
	}
}

# Country has same ideology as revolter
country_event = {
	id = DH_political.29
	title = DH_political.29.t
	desc = DH_political.29.d

	picture = GFX_report_event_journalists_speech

	trigger = {
		any_other_country = {
			NOT = { tag = ROOT }
			original_tag = ROOT
			has_government = ROOT
		}
	}

	mean_time_to_happen = {
		days = 2
	}

	option = {
		name = DH_political.29.a
		random_other_country = {
			limit = {
				original_tag = ROOT
				NOT = { tag = ROOT }
			}
			ROOT = { annex_country = { target = PREV transfer_troops = yes } }
		}
	}
}